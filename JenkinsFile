package jenkins
import java.text.SimpleDateFormat
def inputA = ''
def inputB = ''

node('master') {
    stage('Hello World') {
              echo 'Hello World'
     inputA=valueA()
     echo inputA
     inputB=valueB()
     echo inputB
        }
 stage('Global'){
           echo inputA
           echo inputB
        def buildNumber = env.BUILD_NUMBER
        def workspace = env.WORKSPACE
        def buildUrl = env.BUILD_URL

    // PRINT ENVIRONMENT TO JOB
    echo "workspace directory is ${workspace}"
    echo "build URL is ${env.BUILD_URL}"
        sh 'chmod +x -R ${env.WORKSPACE}'
        sh 'ls -ltr'
        sh 'bash hello.sh'
 }
  
}


def valueA() {
    
    stage('Input Value A') {
        timeout(time: 10, unit: 'MINUTES') {
            deployVersion = input(message: '', ok: 'OK', parameters: [
                [$class: 'TextParameterDefinition', description: 'Enter value for A', name: 'Enter value for A']
            ])
        }
    }
    deployVersion
}



def valueB() {
    
    stage('Input Value B') {
        timeout(time: 10, unit: 'MINUTES') {
            deployVersion = input(message: '', ok: 'OK', parameters: [
                [$class: 'TextParameterDefinition', description: 'Enter value for B', name: 'Enter value for B']
            ])
        }
    }
    deployVersion
}
